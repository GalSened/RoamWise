# RoamWise: AI-Powered Hiking Companion

**The app that plans, guides, and protects hikers using AI and real-time data.**

RoamWise transforms outdoor adventures by combining intelligent trip planning, real-time safety monitoring, and personalized recommendations into a single, beautifully designed mobile experience.

---

## Key Features

### Smart Mix Engine
Generate personalized hiking plans with AI-powered trip variants:
- **Efficient Route** - Optimized for time and distance
- **Scenic Route** - Curated viewpoints and photo opportunities
- **Culinary Route** - Local food stops and refreshment points
- **Adventure Route** - Off-the-beaten-path discoveries

Each variant includes duration estimates, difficulty ratings, and points of interest.

### Field Guardian
Real-time offline safety monitoring that keeps you protected:
- **Sunset Safety Assessment** - SAFE/WARNING/DANGER status based on ETA vs. sunset
- **Off-Trail Detection** - 50-meter threshold alerts when you deviate from the path
- **Live ETA Calculation** - Haversine formula for accurate distance/time estimates
- **High-Contrast Alert Modal** - Critical safety information when you need it most

### Scientific Backpack
Dynamic packing lists generated by AI based on real conditions:
- Weather-aware recommendations (rain gear, sun protection)
- Duration-based water calculations
- Categorized items (Essentials, Clothing, Gear)
- Interactive checklist with progress tracking

### Memories
Automated trip logging and lifetime statistics:
- Distance traveled, days in nature, trips completed
- Trip history with photos and metadata
- Achievement levels (Trail Seeker, Mountain Explorer, etc.)
- Persistent preferences and personalization

---

## Tech Stack

| Category | Technology |
|----------|------------|
| **Framework** | React Native (Expo) |
| **Language** | TypeScript |
| **Navigation** | React Navigation v6 (Bottom Tabs) |
| **Maps** | react-native-maps, expo-location |
| **State Management** | Singleton Managers + React Hooks |
| **Persistence** | AsyncStorage |
| **Animations** | React Native Animated API |
| **Haptics** | Vibration API |
| **UI Components** | Custom design system with theme tokens |

---

## Installation & Setup

### Prerequisites

- **Node.js** v18 or higher
- **npm** or **yarn**
- **Expo Go** app on your iOS/Android device
- (Optional) Xcode for iOS Simulator / Android Studio for Emulator

### Quick Start

```bash
# 1. Clone the repository
git clone https://github.com/your-username/roamwise.git
cd roamwise/frontend

# 2. Install dependencies
npm install

# 3. Start the Expo development server
npm run start

# 4. Scan the QR code with Expo Go (iOS/Android)
#    or press 'i' for iOS Simulator / 'a' for Android Emulator
```

### Configuration

Create a `.env` file in the project root for API keys:

```env
# Maps API (required for production)
GOOGLE_MAPS_API_KEY=your_api_key_here

# Weather API (optional, for packing recommendations)
OPENWEATHER_API_KEY=your_api_key_here
```

> **Note:** The app includes sample trail data for development/demo purposes.

---

## Project Structure

```
src/mobile/
├── App.tsx                    # Root component with providers
├── navigation/
│   └── BottomTabNavigator.tsx # Tab navigation setup
├── screens/
│   ├── ExploreScreen.tsx      # Tab 1: Discovery feed
│   ├── PlannerScreen.tsx      # Tab 2: Smart Mix trip planning
│   ├── LiveScreen.tsx         # Tab 3: Field Guardian navigation
│   └── ProfileScreen.tsx      # Tab 4: User profile & settings
├── components/
│   ├── explore/               # Explore screen components
│   ├── planner/               # Planner components (ModeCard, BackpackModal)
│   ├── live/                  # Live mode components (AlertModal)
│   ├── map/                   # InteractiveMap component
│   └── ui/                    # Shared UI components (Toast, LoadingState)
├── managers/
│   └── NavigationManager.ts   # GPS tracking, ETA, safety calculations
├── features/
│   ├── profile/               # ProfileManager, types, persistence
│   └── packing/               # PackingManager, types, AI generation
├── hooks/
│   └── useNavigationState.ts  # Navigation state hook
├── theme/
│   └── tokens.ts              # Design system (colors, typography, spacing)
└── utils/
    └── haptics.ts             # Vibration patterns utility
```

### Architecture: Manager Pattern

RoamWise uses a **Singleton Manager Pattern** for complex domain logic:

```typescript
// Example: NavigationManager
const manager = NavigationManager.getInstance();
await manager.startTracking(trailData);
const state = manager.getNavigationState(); // ETA, safety status, progress
```

**Key Managers:**
- `NavigationManager` - GPS tracking, Haversine calculations, sunset safety
- `ProfileManager` - User preferences, trip history, statistics
- `PackingManager` - AI-powered packing list generation

This pattern provides:
- Clean separation between UI and business logic
- Singleton instances for consistent state
- Easy testing and mocking
- Framework-agnostic core logic

---

## Design System

RoamWise implements a cohesive design system via `theme/tokens.ts`:

```typescript
// Colors
colors.primary      // #2E7D32 (Forest Green)
colors.success      // #4CAF50 (Safe Green)
colors.warning      // #FF9800 (Caution Orange)
colors.danger       // #F44336 (Alert Red)

// Typography
typography.title1   // 28px Bold
typography.headline // 17px Semibold
typography.body     // 17px Regular

// Spacing
spacing.xs  // 4px
spacing.sm  // 8px
spacing.md  // 12px
spacing.lg  // 16px
spacing.xl  // 24px
```

---

## UX Polish

### Haptic Feedback
Every interaction provides tactile response:
- **Light tap** - Toggle switches, checkboxes
- **Medium tap** - Button presses, navigation
- **Success pattern** - Hike completion, achievements
- **Warning pattern** - Safety alerts

### Animations
- **Staggered card entry** - Smart Mix options glide in sequentially
- **GPS pulse indicator** - Breathing animation shows active tracking
- **Progress bar transitions** - Smooth animated fills
- **Toast notifications** - Slide-up/fade non-intrusive feedback
- **Empty state bounce** - Engaging footsteps animation

---

## App Screens

### Tab 1: Explore
Discovery feed with curated hiking destinations featuring:
- Hero banners for featured trails
- Category filtering (Nature, History, Adventure)
- Trail cards with distance, duration, difficulty

### Tab 2: Planner (Smart Mix)
AI-powered trip planning with:
- Start/destination input with autocomplete
- Duration selector chips
- 4 route variants with animated entry
- Scientific Backpack modal integration

### Tab 3: Live (Field Guardian)
Full-screen navigation mode with:
- Interactive map with route polyline
- Real-time HUD (ETA, sunset, progress)
- GPS pulse indicator
- Slide-to-confirm end hike
- Safety alert modal for dangers

### Tab 4: Profile (Memories)
User profile and settings with:
- Stats board (distance, trips, days)
- Trip log with history
- Preference toggles with haptics
- Animated empty state for new users

---

## Scripts

```bash
npm run start       # Start Expo development server
npm run ios         # Run on iOS Simulator
npm run android     # Run on Android Emulator
npm run web         # Run in web browser (limited features)
npm run lint        # Run ESLint
npm run typecheck   # Run TypeScript compiler check
npm run test        # Run unit tests
npm run e2e         # Run end-to-end tests
```

---

## Future Roadmap

| Feature | Description | Status |
|---------|-------------|--------|
| **Social Sharing** | Share completed trips with friends | Planned |
| **AR Peaks View** | Identify mountains using camera | Planned |
| **Apple Watch Support** | Wrist-based navigation alerts | Planned |
| **Offline Maps** | Download trail maps for offline use | Planned |
| **Multi-language** | Hebrew, Spanish, German support | Planned |
| **Group Hikes** | Real-time location sharing for groups | Planned |
| **Trail Reviews** | Community ratings and comments | Planned |

---

## Contributing

We welcome contributions! Please follow these steps:

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

### Code Style
- TypeScript strict mode enabled
- ESLint + Prettier for formatting
- Functional components with hooks
- Manager pattern for business logic

---

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

## Acknowledgments

- Trail data provided by Israel Nature and Parks Authority
- Weather data from OpenWeatherMap API
- Map tiles from Google Maps Platform
- Icons from Ionicons (Expo)

---

<p align="center">
  <strong>Built with love for the hiking community</strong><br>
  <em>Plan smart. Hike safe. Create memories.</em>
</p>
